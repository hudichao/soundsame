{"version":3,"sources":["webpack:///static/js/app.6befac7cb13d1b6c6f80.js","webpack:///./src/main.js","webpack:///./src/api/index.js","webpack:///./src/vuex/actions.js","webpack:///./src/vuex/getters.js","webpack:///./src/vuex/mutation-types.js","webpack:///./src/vuex/modules/message.js","webpack:///./src/vuex/modules/music.js","webpack:///./src/vuex/store.js","webpack:///App.vue","webpack:///index.vue","webpack:///index.vue?e393","webpack:///index.vue?f9da","webpack:///sound.vue","webpack:///./src/App.vue?d818","webpack:///./src/area/list/index.vue?3952","webpack:///./src/area/message/index.vue?72b9","webpack:///./src/area/music/index.vue?3e01","webpack:///./src/components/sound.vue?16ee","webpack:///./src/App.vue","webpack:///./src/area/list/index.vue","webpack:///./src/area/message/index.vue","webpack:///./src/area/music/index.vue","webpack:///./src/components/sound.vue"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","components","App","Object","defineProperty","value","saveMessage","initList","deleteSong","raiseSong","cutSong","addSong","searchSong","url","wsUrl","undefined","_stringify","_stringify2","_promise","_promise2","_jquery","_jquery2","ws","WebSocket","ajax","config","resolve","reject","then","response","err","songName","data","song_url","dataType","res","result","forEach","item","push","name","title","src","location","image","pic","song_id","id","roomId","room_id","send","type","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","initSongs","getMusic","getMessage","_api","api","_mutationTypes","types","_ref","dispatch","state","GET_MESSAGE","_ref2","console","log","_ref3","_ref4","_ref5","_ref6","_ref7","INIT_SONGS","music","messages","message","songs","activeSong","oldSongs","REMOTE_ADD_ACTIVE_SONG","REMOTE_ADD_SONG","REMOTE_CUT_SONG","REMOTE_DELETE_SONG","REMOTE_RAISE_SONG","_defineProperty2","_defineProperty3","mutations","_mutations","_lodash","_lodash2","index","findIndex","splice","JSON","parse","unshift","_vuex","_vuex2","_message","_message2","_music","_music2","_logger","_logger2","use","debug","Store","modules","strict","middlewares","_store","_store2","_list","_list2","window","store","created","_this","this","onopen","event","onmessage","$broadcast","onclose","musicArea","messageArea","listArea","_actions","_getters","input","searchResult","showSearchResult","showOldSongs","methods","search","slice","add","song","raise","remove","showOld","events","wsmessage","typeArray","indexOf","ready","vuex","getters","actions","body","time","Date","_sound","_sound2","sound","currentTime","cut","props","audio","$el","onended","$dispatch","watch","newVal","pause","startTime","now","play","__vue_script__","__vue_template__","options","template"],"mappings":"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","file":"static/js/app.6befac7cb13d1b6c6f80.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(38);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(97);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t    el: 'body',\n\t    components: { App: _App2.default }\n\t});\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.saveMessage = exports.initList = exports.deleteSong = exports.raiseSong = exports.cutSong = exports.addSong = exports.searchSong = exports.url = exports.wsUrl = undefined;\n\t\n\tvar _stringify = __webpack_require__(10);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _promise = __webpack_require__(48);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _jquery = __webpack_require__(90);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ws = new WebSocket('ws://127.0.0.1:3333');\n\t\n\tvar ajax = function ajax(config) {\n\t    return new _promise2.default(function (resolve, reject) {\n\t        _jquery2.default.ajax(config).then(function (response) {\n\t            resolve(response);\n\t        }, function (err) {\n\t            reject(err);\n\t        });\n\t    });\n\t};\n\t\n\tvar wsUrl = exports.wsUrl =  false ? 'ws://127.0.0.1:3333' : 'ws://120.55.93.6:3333';\n\t\n\tvar url = exports.url =  false ? 'http://127.0.0.1:3333' : 'http://120.55.93.6:3333';\n\t\n\tvar searchSong = exports.searchSong = function searchSong(songName) {\n\t    return new _promise2.default(function (resolve, reject) {\n\t        ajax({\n\t            url: 'http://115.29.195.14:8083/cmusic',\n\t            data: {\n\t                song_url: songName\n\t            },\n\t            dataType: 'json'\n\t        }).then(function (res) {\n\t            var result = [];\n\t            res.forEach(function (item) {\n\t                result.push({\n\t                    name: item.title,\n\t                    src: item.location,\n\t                    image: item.pic,\n\t                    song_id: item.song_id\n\t                });\n\t            });\n\t            resolve(result);\n\t        });\n\t    });\n\t};\n\tvar addSong = exports.addSong = function addSong(data) {\n\t    return ajax({\n\t        url: url + '/api/addSong',\n\t        data: {\n\t            song_id: data.song_id,\n\t            name: data.name,\n\t            src: data.src,\n\t            image: data.image\n\t        }\n\t    });\n\t};\n\t\n\tvar cutSong = exports.cutSong = function cutSong() {\n\t    return ajax({\n\t        url: url + '/api/cutSong'\n\t    });\n\t};\n\t\n\tvar raiseSong = exports.raiseSong = function raiseSong(id) {\n\t    return ajax({\n\t        url: url + '/api/raiseSong',\n\t        data: {\n\t            id: id\n\t        }\n\t    });\n\t};\n\t\n\tvar deleteSong = exports.deleteSong = function deleteSong(id) {\n\t    return ajax({\n\t        url: url + '/api/removeSong',\n\t        data: {\n\t            id: id\n\t        }\n\t    });\n\t};\n\t\n\tvar initList = exports.initList = function initList(roomId) {\n\t    return ajax({\n\t        url: url + '/api/initList',\n\t        data: {\n\t            room_id: roomId\n\t        },\n\t        dataType: 'json'\n\t    });\n\t};\n\t\n\tvar saveMessage = exports.saveMessage = function saveMessage(data) {\n\t    ws.send((0, _stringify2.default)({ type: 'CHAT', data: data }));\n\t};\n\n/***/ },\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.initSongs = exports.raiseSong = exports.deleteSong = exports.cutSong = exports.addSong = exports.getMusic = exports.getMessage = undefined;\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar api = _interopRequireWildcard(_api);\n\t\n\tvar _mutationTypes = __webpack_require__(17);\n\t\n\tvar types = _interopRequireWildcard(_mutationTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar getMessage = exports.getMessage = function getMessage(_ref, data) {\n\t    var dispatch = _ref.dispatch;\n\t    var state = _ref.state;\n\t\n\t    dispatch(types.GET_MESSAGE, data);\n\t};\n\t\n\tvar getMusic = exports.getMusic = function getMusic(_ref2, data) {\n\t    var dispatch = _ref2.dispatch;\n\t    var state = _ref2.state;\n\t\n\t    console.log(types['REMOTE_' + data.type]);\n\t    dispatch(types['REMOTE_' + data.type], data.data);\n\t};\n\t\n\tvar addSong = exports.addSong = function addSong(_ref3, data) {\n\t    var dispatch = _ref3.dispatch;\n\t    var state = _ref3.state;\n\t\n\t    api.addSong(data);\n\t};\n\t\n\tvar cutSong = exports.cutSong = function cutSong(_ref4) {\n\t    var dispatch = _ref4.dispatch;\n\t    var state = _ref4.state;\n\t\n\t    api.cutSong();\n\t};\n\t\n\tvar deleteSong = exports.deleteSong = function deleteSong(_ref5, id) {\n\t    var dispatch = _ref5.dispatch;\n\t    var state = _ref5.state;\n\t\n\t    api.deleteSong(id);\n\t};\n\t\n\tvar raiseSong = exports.raiseSong = function raiseSong(_ref6, id) {\n\t    var dispatch = _ref6.dispatch;\n\t    var state = _ref6.state;\n\t\n\t    api.raiseSong(id);\n\t};\n\t\n\tvar initSongs = exports.initSongs = function initSongs(_ref7, data) {\n\t    var dispatch = _ref7.dispatch;\n\t    var state = _ref7.state;\n\t\n\t    var roomId = 2;\n\t    api.initList(roomId).then(function (res) {\n\t        dispatch(types.INIT_SONGS, res);\n\t    });\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar music = exports.music = function music(state) {\n\t    return state.music.music;\n\t};\n\t\n\tvar messages = exports.messages = function messages(state) {\n\t    return state.message.messages;\n\t};\n\t\n\tvar songs = exports.songs = function songs(state) {\n\t    return state.music.songs;\n\t};\n\t\n\tvar activeSong = exports.activeSong = function activeSong(state) {\n\t    return state.music.activeSong;\n\t};\n\t\n\tvar oldSongs = exports.oldSongs = function oldSongs(state) {\n\t    return state.music.oldSongs;\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar GET_MESSAGE = exports.GET_MESSAGE = '获取文本信息';\n\tvar REMOTE_ADD_ACTIVE_SONG = exports.REMOTE_ADD_ACTIVE_SONG = '歌曲加入当前播放';\n\tvar REMOTE_ADD_SONG = exports.REMOTE_ADD_SONG = '歌曲加入歌单';\n\tvar REMOTE_CUT_SONG = exports.REMOTE_CUT_SONG = '切歌';\n\tvar REMOTE_DELETE_SONG = exports.REMOTE_DELETE_SONG = '删歌';\n\tvar REMOTE_RAISE_SONG = exports.REMOTE_RAISE_SONG = '顶歌';\n\tvar INIT_SONGS = exports.INIT_SONGS = '初始化歌曲列表';\n\n/***/ },\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(26);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _stringify = __webpack_require__(10);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _mutationTypes = __webpack_require__(17);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar state = {\n\t    messages: []\n\t};\n\t\n\tvar mutations = (0, _defineProperty3.default)({}, _mutationTypes.GET_MESSAGE, function (state, data) {\n\t    state.messages.push(data);\n\t    console.log((0, _stringify2.default)(state.messages));\n\t});\n\t\n\texports.default = {\n\t    state: state,\n\t    mutations: mutations\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(26);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _stringify = __webpack_require__(10);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _mutations;\n\t\n\tvar _mutationTypes = __webpack_require__(17);\n\t\n\tvar _lodash = __webpack_require__(91);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar state = {\n\t    songs: [],\n\t    oldSongs: [],\n\t    activeSong: {\n\t        name: '',\n\t        src: '',\n\t        song_id: '',\n\t        id: ''\n\t    }\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.REMOTE_ADD_ACTIVE_SONG, function (state, data) {\n\t    state.activeSong = data;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.REMOTE_ADD_SONG, function (state, data) {\n\t    state.songs.push(data);\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.REMOTE_CUT_SONG, function (state, data) {\n\t    if (state.activeSong) {\n\t        state.oldSongs.push(state.activeSong);\n\t    }\n\t\n\t    if (data.id) {\n\t        state.activeSong = data;\n\t\n\t        mutations[_mutationTypes.REMOTE_DELETE_SONG](state, data.id);\n\t    } else {\n\t        state.activeSong = {};\n\t        console.log('no song in queue');\n\t    }\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.REMOTE_DELETE_SONG, function (state, id) {\n\t    var index = _lodash2.default.findIndex(state.songs, { id: id });\n\t    if (index > -1) {\n\t        state.songs.splice(index, 1);\n\t    }\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.REMOTE_RAISE_SONG, function (state, id) {\n\t    var index = _lodash2.default.findIndex(JSON.parse((0, _stringify2.default)(state.songs)), { id: id });\n\t    if (index > -1) {\n\t        var data = state.songs.splice(index, 1)[0];\n\t        state.songs.unshift(data);\n\t    }\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.INIT_SONGS, function (state, data) {\n\t    console.log('init songs');\n\t    state.songs = data.songs || [];\n\t    state.oldSongs = data.oldSongs || [];\n\t    state.activeSong = data.activeSong || {};\n\t}), _mutations);\n\t\n\texports.default = {\n\t    state: state,\n\t    mutations: mutations\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(38);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(102);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _message = __webpack_require__(39);\n\t\n\tvar _message2 = _interopRequireDefault(_message);\n\t\n\tvar _music = __webpack_require__(40);\n\t\n\tvar _music2 = _interopRequireDefault(_music);\n\t\n\tvar _logger = __webpack_require__(103);\n\t\n\tvar _logger2 = _interopRequireDefault(_logger);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\tvar debug = (\"production\") !== 'production';\n\t\n\texports.default = new _vuex2.default.Store({\n\t    modules: {\n\t        message: _message2.default,\n\t        music: _music2.default\n\t    },\n\t    strict: true,\n\t    middlewares: debug ? [(0, _logger2.default)()] : []\n\t});\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _store = __webpack_require__(41);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _music = __webpack_require__(100);\n\t\n\tvar _music2 = _interopRequireDefault(_music);\n\t\n\tvar _message = __webpack_require__(99);\n\t\n\tvar _message2 = _interopRequireDefault(_message);\n\t\n\tvar _list = __webpack_require__(98);\n\t\n\tvar _list2 = _interopRequireDefault(_list);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar api = _interopRequireWildcard(_api);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            ws: new window.WebSocket(api.wsUrl)\n\t        };\n\t    },\n\t\n\t    store: _store2.default,\n\t    created: function created() {\n\t        var _this = this;\n\t\n\t        var onopen = function onopen(event) {};\n\t        var onmessage = function onmessage(event) {\n\t            console.log(event.data);\n\t            _this.$broadcast('wsmessage', JSON.parse(event.data));\n\t        };\n\t        var onclose = function onclose(event) {\n\t            console.log('server was closed');\n\t        };\n\t\n\t        this.ws.onopen = onopen;\n\t        this.ws.onmessage = onmessage;\n\t        this.ws.onclose = onclose;\n\t    },\n\t\n\t    components: {\n\t        musicArea: _music2.default,\n\t        messageArea: _message2.default,\n\t        listArea: _list2.default\n\t    }\n\t};\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(10);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar api = _interopRequireWildcard(_api);\n\t\n\tvar _actions = __webpack_require__(15);\n\t\n\tvar _getters = __webpack_require__(16);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            input: '',\n\t            searchResult: [],\n\t            showSearchResult: false,\n\t            showOldSongs: false\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        search: function search() {\n\t            var _this = this;\n\t\n\t            api.searchSong(this.input).then(function (data) {\n\t                _this.searchResult = data ? data.slice(0, 5) : [];\n\t                _this.showSearchResult = true;\n\t            });\n\t        },\n\t        add: function add(song) {\n\t            this.showSearchResult = false;\n\t            this.addSong(song);\n\t        },\n\t        raise: function raise(song) {\n\t            this.raiseSong(song.id);\n\t        },\n\t        remove: function remove(song) {\n\t            this.deleteSong(song.id);\n\t        },\n\t        showOld: function showOld() {\n\t            this.showOldSongs = !this.showOldSongs;\n\t        }\n\t    },\n\t    events: {\n\t        wsmessage: function wsmessage(data) {\n\t            console.log('获取' + (0, _stringify2.default)(data) + '!!!!');\n\t            var typeArray = ['ADD_SONG', 'CUT_SONG', 'RAISE_SONG', 'DELETE_SONG', 'ADD_ACTIVE_SONG'];\n\t\n\t            if (typeArray.indexOf(data.type) > -1) {\n\t                this.getMusic(data);\n\t            }\n\t        }\n\t    },\n\t    ready: function ready() {\n\t        this.initSongs();\n\t    },\n\t\n\t    vuex: {\n\t        getters: {\n\t            songs: _getters.songs,\n\t            activeSong: _getters.activeSong,\n\t            oldSongs: _getters.oldSongs\n\t        },\n\t        actions: {\n\t            addSong: _actions.addSong,\n\t            deleteSong: _actions.deleteSong,\n\t            raiseSong: _actions.raiseSong,\n\t            initSongs: _actions.initSongs,\n\t            getMusic: _actions.getMusic\n\t        }\n\t    }\n\t};\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _actions = __webpack_require__(15);\n\t\n\tvar _getters = __webpack_require__(16);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar api = _interopRequireWildcard(_api);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            message: {\n\t                name: 'ha',\n\t                body: '',\n\t                time: null\n\t            }\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        send: function send() {\n\t            this.message.time = new Date();\n\t\n\t            api.saveMessage(this.message);\n\t            this.message.body = '';\n\t        }\n\t    },\n\t    events: {\n\t        wsmessage: function wsmessage(data) {\n\t            if (data.type === 'CHAT') {\n\t                console.log(data);\n\t                this.getMessage(data.data);\n\t            }\n\t        }\n\t    },\n\t    vuex: {\n\t        getters: {\n\t            messages: _getters.messages\n\t        },\n\t        actions: {\n\t            getMessage: _actions.getMessage\n\t        }\n\t    },\n\t    ready: function ready() {}\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _sound = __webpack_require__(101);\n\t\n\tvar _sound2 = _interopRequireDefault(_sound);\n\t\n\tvar _getters = __webpack_require__(16);\n\t\n\tvar _actions = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    components: {\n\t        sound: _sound2.default\n\t    },\n\t    data: function data() {\n\t        return {\n\t            currentTime: 0\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        cut: function cut() {\n\t            console.log('cut!');\n\t            this.currentTime = 0;\n\t            this.cutSong();\n\t        }\n\t    },\n\t    ready: function ready() {},\n\t\n\t    vuex: {\n\t        actions: {\n\t            cutSong: _actions.cutSong\n\t        },\n\t        getters: {\n\t            activeSong: _getters.activeSong\n\t        }\n\t    }\n\t};\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = {\n\t    props: {\n\t        activeSong: {\n\t            type: Object\n\t        }\n\t    },\n\t    data: function data() {\n\t        return {\n\t            audio: null\n\t        };\n\t    },\n\t    ready: function ready() {\n\t        var _this = this;\n\t\n\t        this.audio = this.$el;\n\t        this.audio.onended = function () {\n\t            console.log('歌曲自然结束');\n\t            _this.$dispatch('song-end');\n\t        };\n\t    },\n\t\n\t    watch: {\n\t        activeSong: function activeSong(newVal) {\n\t            if (newVal) {\n\t                this.audio.pause();\n\t                if (newVal.src) {\n\t                    this.audio.src = newVal.src;\n\t                    if (newVal.startTime) {\n\t                        this.audio.currentTime = (Date.now() - newVal.startTime) / 1000;\n\t                    }\n\t                    this.audio.play();\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t};\n\n/***/ },\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 86 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 87 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 88 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 89 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 90 */,\n/* 91 */,\n/* 92 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=app> <music-area></music-area> <list-area></list-area> <message-area></message-area> </div> \";\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=listArea> <div class=search> <form> <input type=text v-model=input> <button type=submit @click.prevent=search()>搜索歌曲</button> <button @click.prevent=showOld() :class=\\\"{active: showOldSongs}\\\">歌曲历史</button> </form> <div class=searchResult v-show=showSearchResult> <div v-if=\\\"searchResult.length > 0\\\"> <span class=one-song v-for=\\\"one in searchResult\\\" track-by=song_id> {{one.name}}<button @click=add(one)>加入歌单</button> </span> </div> <div v-else> <span>没有找到歌曲！</span> </div> </div> <div class=songList v-for=\\\"song in oldSongs\\\" track-by=$index v-if=showOldSongs> <span class=one-song>{{song.name}} <button @click=add(song)>加入歌单</button> </span> </div> <div class=songList> <span class=one-song v-if=activeSong.name>正在播放~~~~~{{activeSong.name}}</span> <span class=one-song v-for=\\\"song in songs\\\" track-by=id>{{song.name}} <button @click=remove(song)>删</button> <button @click=raise(song)>顶</button> </span> </div> </div> </div> \";\n\n/***/ },\n/* 94 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=messageArea> <ul> <li v-for=\\\"one in messages\\\" track-by=$index> <span class=name>{{one.name}}</span> <span class=body>{{one.body}}</span> </li> </ul> <div class=inputArea> <form> <input type=text v-model=message.body> <button type=submit @click.prevent=send()>发送</button> </form> </div> </div> \";\n\n/***/ },\n/* 95 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=songArea> <sound :active-song=activeSong v-on:song-end=cut></sound> <div class=actionArea> <button @click=cut()>切！！！！！！！！！！！！</button> </div> </div> \";\n\n/***/ },\n/* 96 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <audio controls> <source type=audio/mpeg> </audio> \";\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(85)\n\t__vue_script__ = __webpack_require__(42)\n\t__vue_template__ = __webpack_require__(92)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(86)\n\t__vue_script__ = __webpack_require__(43)\n\t__vue_template__ = __webpack_require__(93)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(87)\n\t__vue_script__ = __webpack_require__(44)\n\t__vue_template__ = __webpack_require__(94)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 100 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(88)\n\t__vue_script__ = __webpack_require__(45)\n\t__vue_template__ = __webpack_require__(95)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(89)\n\t__vue_script__ = __webpack_require__(46)\n\t__vue_template__ = __webpack_require__(96)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.6befac7cb13d1b6c6f80.js\n **/","import Vue from 'vue'\nimport App from './App.vue'\n\n// eslint-disable-next-line\nnew Vue({\n    el: 'body',\n    components: { App }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import $ from 'jquery'\n\n// eslint-disable-next-line\nconst ws = new WebSocket('ws://127.0.0.1:3333')\n\nconst ajax = config => {\n    return new Promise((resolve, reject) => {\n        $.ajax(config)\n        .then(response => {\n            resolve(response)\n        }, err => {\n            reject(err)\n        })\n    })\n}\n\nexport const wsUrl = process.env.NODE_ENV !== 'production' ? 'ws://127.0.0.1:3333' : 'ws://120.55.93.6:3333'\n\nexport const url = process.env.NODE_ENV !== 'production' ? 'http://127.0.0.1:3333' : 'http://120.55.93.6:3333'\n\nexport const searchSong = songName => {\n    return new Promise((resolve, reject) => {\n        ajax({\n            url: 'http://115.29.195.14:8083/cmusic',\n            data: {\n                song_url: songName\n            },\n            dataType: 'json'\n        }).then(res => {\n            var result = []\n            res.forEach(item => {\n                result.push({\n                    name: item.title,\n                    src: item.location,\n                    image: item.pic,\n                    song_id: item.song_id\n                })\n            })\n            resolve(result)\n        })\n    })\n}\nexport const addSong = data => {\n    return ajax({\n        url: url + '/api/addSong',\n        data: {\n            song_id: data.song_id,\n            name: data.name,\n            src: data.src,\n            image: data.image\n        }\n    })\n}\n\nexport const cutSong = () => {\n    return ajax({\n        url: url + '/api/cutSong'\n    })\n}\n\nexport const raiseSong = id => {\n    return ajax({\n        url: url + '/api/raiseSong',\n        data: {\n            id\n        }\n    })\n}\n\nexport const deleteSong = id => {\n    return ajax({\n        url: url + '/api/removeSong',\n        data: {\n            id\n        }\n    })\n}\n\nexport const initList = roomId => {\n    return ajax({\n        url: url + '/api/initList',\n        data: {\n            room_id: roomId\n        },\n        dataType: 'json'\n    })\n}\n\nexport const saveMessage = data => {\n    ws.send(JSON.stringify({type: 'CHAT', data: data}))\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/index.js\n **/","import * as api from '../api'\nimport * as types from './mutation-types'\n\nexport const getMessage = ({dispatch, state}, data) => {\n    dispatch(types.GET_MESSAGE, data)\n}\n\nexport const getMusic = ({dispatch, state}, data) => {\n    console.log(types['REMOTE_' + data.type])\n    dispatch(types['REMOTE_' + data.type], data.data)\n}\n\nexport const addSong = ({dispatch, state}, data) => {\n    api.addSong(data)\n}\n\nexport const cutSong = ({dispatch, state}) => {\n    api.cutSong()\n}\n\nexport const deleteSong = ({dispatch, state}, id) => {\n    api.deleteSong(id)\n}\n\nexport const raiseSong = ({dispatch, state}, id) => {\n    api.raiseSong(id)\n}\n\nexport const initSongs = ({dispatch, state}, data) => {\n    var roomId = 2\n    api.initList(roomId)\n    .then(res => {\n        dispatch(types.INIT_SONGS, res)\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/actions.js\n **/","export const music = state => {\n    return state.music.music\n}\n\nexport const messages = state => {\n    return state.message.messages\n}\n\nexport const songs = state => {\n    return state.music.songs\n}\n\nexport const activeSong = state => {\n    return state.music.activeSong\n}\n\nexport const oldSongs = state => {\n    return state.music.oldSongs\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/getters.js\n **/","export const GET_MESSAGE = '获取文本信息'\nexport const REMOTE_ADD_ACTIVE_SONG = '歌曲加入当前播放'\nexport const REMOTE_ADD_SONG = '歌曲加入歌单'\nexport const REMOTE_CUT_SONG = '切歌'\nexport const REMOTE_DELETE_SONG = '删歌'\nexport const REMOTE_RAISE_SONG = '顶歌'\nexport const INIT_SONGS = '初始化歌曲列表'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/mutation-types.js\n **/","import {\n    GET_MESSAGE\n} from '../mutation-types'\n\nconst state = {\n    messages: []\n}\n\nconst mutations = {\n    [GET_MESSAGE] (state, data) {\n        state.messages.push(data)\n        console.log(JSON.stringify(state.messages))\n    }\n}\n\nexport default {\n    state,\n    mutations\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/modules/message.js\n **/","import {\n    REMOTE_ADD_ACTIVE_SONG,\n    REMOTE_ADD_SONG,\n    REMOTE_CUT_SONG,\n    REMOTE_DELETE_SONG,\n    REMOTE_RAISE_SONG,\n    INIT_SONGS\n} from '../mutation-types'\n\nconst state = {\n    songs: [\n    // {\n    //     title: 'test',\n    //     song_id: '1'\n    // }\n    ],\n    oldSongs: [],\n    activeSong: {\n        name: '',\n        src: '',\n        song_id: '',\n        id: ''\n    }\n}\n\nimport _ from 'lodash'\n\nconst mutations = {\n    [REMOTE_ADD_ACTIVE_SONG] (state, data) {\n        state.activeSong = data\n    },\n    [REMOTE_ADD_SONG] (state, data) {\n        state.songs.push(data)\n    },\n    [REMOTE_CUT_SONG] (state, data) {\n        // data为要播的歌\n        // 如果有当前歌，设为已播放\n        if (state.activeSong) {\n            state.oldSongs.push(state.activeSong)\n        }\n\n        // 如果后面有歌\n        if (data.id) {\n            state.activeSong = data\n            // 清除队列中的这首歌\n            mutations[REMOTE_DELETE_SONG](state, data.id)\n        } else {\n            state.activeSong = {}\n            console.log('no song in queue')\n        }\n    },\n    [REMOTE_DELETE_SONG] (state, id) {\n        let index = _.findIndex(state.songs, {id: id})\n        if (index > -1) {\n            state.songs.splice(index, 1)\n        }\n    },\n    [REMOTE_RAISE_SONG] (state, id) {\n        let index = _.findIndex(JSON.parse(JSON.stringify(state.songs)), {id: id})\n        if (index > -1) {\n            var data = state.songs.splice(index, 1)[0]\n            state.songs.unshift(data)\n        }\n    },\n    [INIT_SONGS] (state, data) {\n        console.log('init songs')\n        state.songs = data.songs || []\n        state.oldSongs = data.oldSongs || []\n        state.activeSong = data.activeSong || {}\n    }\n}\n\nexport default {\n    state,\n    mutations\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/modules/music.js\n **/","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport message from './modules/message'\nimport music from './modules/music'\n\nimport createLogger from 'vuex/logger'\n\nVue.use(Vuex)\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n    modules: {\n        message,\n        music\n    },\n    strict: true,\n    middlewares: debug ? [createLogger()] : []\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/store.js\n **/","<template>\n    <div id=\"app\">\n        <music-area></music-area>\n        <list-area></list-area>\n        <message-area></message-area>\n    </div>\n</template>\n\n<script>\nimport store from './vuex/store'\n\nimport musicArea from './area/music'\nimport messageArea from './area/message'\nimport listArea from './area/list'\n\nimport * as api from './api'\n\nexport default {\n    data () {\n        return {\n            ws: new window.WebSocket(api.wsUrl)\n        }\n    },\n    store,\n    created () {\n        var onopen = event => {\n\n        }\n        var onmessage = event => {\n            console.log(event.data)\n            this.$broadcast('wsmessage', JSON.parse(event.data))\n        }\n        var onclose = event => {\n            console.log('server was closed')\n        }\n\n        this.ws.onopen = onopen\n        this.ws.onmessage = onmessage\n        this.ws.onclose = onclose\n    },\n    components: {\n        musicArea,\n        messageArea,\n        listArea\n    }\n}\n</script>\n\n<style lang=\"less\">\nbody {\n    font-family: Helvetica, sans-serif;\n    overflow: hidden;\n}\n\n* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\nul {\n    list-style-type: none;\n}\nhtml,body,#app {\n    height: 100%;\n}\nbutton {\n    cursor: pointer;\n}\n\n#app {\n    font-size: 0;\n}\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?0c73b860\n **/","<template>\n<div class=\"listArea\">\n<div class=\"search\">\n    <form>\n        <input type=\"text\" v-model=\"input\">\n        <button type=\"submit\" @click.prevent=\"search()\">搜索歌曲</button>\n        <button @click.prevent=\"showOld()\" :class=\"{active: showOldSongs}\">歌曲历史</button>\n    </form>\n    <div class=\"searchResult\" v-show=\"showSearchResult\">\n        <div v-if=\"searchResult.length > 0\">\n            <span class=\"one-song\" v-for=\"one in searchResult\" track-by=\"song_id\">\n                {{one.name}}<button @click=\"add(one)\">加入歌单</button>\n            </span>\n        </div>\n        <div v-else>\n            <span>没有找到歌曲！</span>\n        </div>\n    </div>\n    <div class=\"songList\" v-for=\"song in oldSongs\" track-by=\"$index\" v-if=\"showOldSongs\">\n        <span class=\"one-song\">{{song.name}}\n            <button @click=\"add(song)\">加入歌单</button>\n        </span>\n    </div>\n\n    <div class=\"songList\">\n        <span class=\"one-song\" v-if=\"activeSong.name\">正在播放~~~~~{{activeSong.name}}</span>\n        <span class=\"one-song\" v-for=\"song in songs\" track-by=\"id\">{{song.name}}\n            <button @click=\"remove(song)\">删</button>\n            <button @click=\"raise(song)\">顶</button>\n        </span>\n    </div>\n</div>\n</div>\n</template>\n\n\n<script>\nimport * as api from '../../api'\nimport {addSong, deleteSong, raiseSong, initSongs, getMusic} from '../../vuex/actions'\nimport {oldSongs, songs, activeSong} from '../../vuex/getters'\nexport default {\n    data () {\n        return {\n            input: '',\n            searchResult: [],\n            showSearchResult: false,\n            showOldSongs: false\n        }\n    },\n    methods: {\n        search () {\n            api.searchSong(this.input)\n            .then(data => {\n                this.searchResult = data ? data.slice(0, 5) : []\n                this.showSearchResult = true\n            })\n        },\n        add (song) {\n            this.showSearchResult = false\n            this.addSong(song)\n        },\n        raise (song) {\n            this.raiseSong(song.id)\n        },\n        remove (song) {\n            this.deleteSong(song.id)\n        },\n        showOld () {\n            this.showOldSongs = !this.showOldSongs\n        }\n    },\n    events: {\n        wsmessage (data) {\n            console.log(`获取${JSON.stringify(data)}!!!!`)\n            var typeArray = ['ADD_SONG', 'CUT_SONG', 'RAISE_SONG', 'DELETE_SONG', 'ADD_ACTIVE_SONG']\n\n            if (typeArray.indexOf(data.type) > -1) {\n                this.getMusic(data)\n            }\n        }\n    },\n    ready () {\n        this.initSongs()\n    },\n    vuex: {\n        getters: {\n            songs,\n            activeSong,\n            oldSongs\n        },\n        actions: {\n            addSong,\n            deleteSong,\n            raiseSong,\n            initSongs,\n            getMusic\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import 'index.less';\n</style>\n\n\n/** WEBPACK FOOTER **\n ** index.vue?fcf25406\n **/","<style lang=\"less\">\n@import 'index.less';\n</style>\n\n<template>\n<div class=\"messageArea\">\n    <ul>\n        <li v-for=\"one in messages\" track-by=\"$index\">\n            <span class=\"name\">{{one.name}}</span>\n            <span class=\"body\">{{one.body}}</span>\n        </li>\n    </ul>\n    <div class=\"inputArea\">\n        <form>\n            <input type=\"text\" v-model=\"message.body\">\n            <button type=\"submit\" @click.prevent=\"send()\">发送</button>\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\nimport {getMessage} from '../../vuex/actions'\nimport {messages} from '../../vuex/getters'\nimport * as api from '../../api'\n\nexport default {\n    data () {\n        return {\n            message: {\n                name: 'ha',\n                body: '',\n                time: null\n            }\n        }\n    },\n    methods: {\n        send () {\n            this.message.time = new Date()\n\n            api.saveMessage(this.message)\n            this.message.body = ''\n        }\n    },\n    events: {\n        wsmessage (data) {\n            if (data.type === 'CHAT') {\n                console.log(data)\n                this.getMessage(data.data)\n            }\n        }\n    },\n    vuex: {\n        getters: {\n            messages\n        },\n        actions: {\n            getMessage\n        }\n    },\n    ready () {\n\n    }\n}\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** index.vue?6023b5d9\n **/","<style lang=\"less\">\n@import 'index.less';\n</style>\n\n<template>\n<div class=\"songArea\">\n    <sound :active-song=\"activeSong\" v-on:song-end=\"cut\"></sound>\n    <div class=\"actionArea\">\n        <button @click=\"cut()\">切！！！！！！！！！！！！</button>\n    </div>\n</div>\n</template>\n\n<script>\nimport sound from '../../components/sound'\nimport {activeSong} from '../../vuex/getters'\nimport {cutSong} from '../../vuex/actions'\n\nexport default {\n    components: {\n        sound\n    },\n    data () {\n        return {\n            currentTime: 0\n        }\n    },\n    methods: {\n        cut () {\n            console.log('cut!')\n            this.currentTime = 0\n            this.cutSong()\n        }\n    },\n    ready () {\n        // setInterval(() => {\n        //     console.log(this.startTime)\n        // }, 1000)\n    },\n    vuex: {\n        actions: {\n            cutSong\n        },\n        getters: {\n            activeSong\n        }\n    }\n}\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** index.vue?eb5b2278\n **/","<template>\n<audio controls>\n    <source type=\"audio/mpeg\">\n</audio>\n</template>\n\n<script>\nexport default {\n    props: {\n        activeSong: {\n            type: Object\n        }\n    },\n    data () {\n        return {\n            audio: null\n        }\n    },\n    ready () {\n        this.audio = this.$el\n        this.audio.onended = () => {\n            console.log('歌曲自然结束')\n            this.$dispatch('song-end')\n        }\n        // setTimeout(() => {\n        //     console.log('手动切割')\n        //     this.$dispatch('song-end')\n        // }, 20000)\n    },\n    watch: {\n        activeSong (newVal) {\n            if (newVal) {\n                this.audio.pause()\n                if (newVal.src) {\n                    this.audio.src = newVal.src\n                    if (newVal.startTime) {\n                        this.audio.currentTime = (Date.now() - newVal.startTime) / 1000\n                    }\n                    this.audio.play()\n                }\n            }\n        }\n    }\n\n}\n</script>\n\n<style>\n</style>\n\n\n/** WEBPACK FOOTER **\n ** sound.vue?49ab2c3c\n **/","module.exports = \" <div id=app> <music-area></music-area> <list-area></list-area> <message-area></message-area> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 92\n ** module chunks = 2\n **/","module.exports = \" <div class=listArea> <div class=search> <form> <input type=text v-model=input> <button type=submit @click.prevent=search()>搜索歌曲</button> <button @click.prevent=showOld() :class=\\\"{active: showOldSongs}\\\">歌曲历史</button> </form> <div class=searchResult v-show=showSearchResult> <div v-if=\\\"searchResult.length > 0\\\"> <span class=one-song v-for=\\\"one in searchResult\\\" track-by=song_id> {{one.name}}<button @click=add(one)>加入歌单</button> </span> </div> <div v-else> <span>没有找到歌曲！</span> </div> </div> <div class=songList v-for=\\\"song in oldSongs\\\" track-by=$index v-if=showOldSongs> <span class=one-song>{{song.name}} <button @click=add(song)>加入歌单</button> </span> </div> <div class=songList> <span class=one-song v-if=activeSong.name>正在播放~~~~~{{activeSong.name}}</span> <span class=one-song v-for=\\\"song in songs\\\" track-by=id>{{song.name}} <button @click=remove(song)>删</button> <button @click=raise(song)>顶</button> </span> </div> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/area/list/index.vue\n ** module id = 93\n ** module chunks = 2\n **/","module.exports = \" <div class=messageArea> <ul> <li v-for=\\\"one in messages\\\" track-by=$index> <span class=name>{{one.name}}</span> <span class=body>{{one.body}}</span> </li> </ul> <div class=inputArea> <form> <input type=text v-model=message.body> <button type=submit @click.prevent=send()>发送</button> </form> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/area/message/index.vue\n ** module id = 94\n ** module chunks = 2\n **/","module.exports = \" <div class=songArea> <sound :active-song=activeSong v-on:song-end=cut></sound> <div class=actionArea> <button @click=cut()>切！！！！！！！！！！！！</button> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/area/music/index.vue\n ** module id = 95\n ** module chunks = 2\n **/","module.exports = \" <audio controls> <source type=audio/mpeg> </audio> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/sound.vue\n ** module id = 96\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 97\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./index.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/area/list/index.vue\n ** module id = 98\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./index.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/area/message/index.vue\n ** module id = 99\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./index.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/area/music/index.vue\n ** module id = 100\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sound.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./sound.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./sound.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/sound.vue\n ** module id = 101\n ** module chunks = 2\n **/"],"sourceRoot":""}